{"remainingRequest":"/home/theinscriber/Desktop/DHISAuth/node_modules/babel-loader/lib/index.js!/home/theinscriber/Desktop/DHISAuth/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/theinscriber/Desktop/DHISAuth/src/components/LoginForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/theinscriber/Desktop/DHISAuth/src/components/LoginForm.vue","mtime":1536595222852},{"path":"/home/theinscriber/Desktop/DHISAuth/node_modules/cache-loader/dist/cjs.js","mtime":1536499925388},{"path":"/home/theinscriber/Desktop/DHISAuth/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/theinscriber/Desktop/DHISAuth/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from 'axios';\nexport default {\n  name: 'LoginForm',\n  methods: {\n    authenticate: function authenticate() {\n      var _this = this;\n\n      this.isLoading = true;\n      this.authResponse.isAuthenticated = false;\n      this.authResponse.hasFailedAuthentication = false;\n      var requestConfig = this.prepareAuthRequestData();\n      var authCredentialsEncoded = btoa(\"\".concat(requestConfig.auth.username, \":\").concat(requestConfig.auth.password));\n      axios.get(this.BASE_URL, requestConfig).then(function () {\n        _this.isLoading = false;\n        _this.authResponse.isAuthenticated = true;\n        sessionStorage.setItem('basicAuthToken', authCredentialsEncoded);\n        setTimeout(function () {\n          _this.$router.push('/');\n        }, 2000);\n      }).catch(function () {\n        _this.isLoading = false;\n        _this.authResponse.hasFailedAuthentication = true;\n        _this.authCredentials.password = \"\";\n      });\n    },\n    prepareAuthRequestData: function prepareAuthRequestData() {\n      return {\n        auth: {\n          username: this.authCredentials.username,\n          password: this.authCredentials.password\n        }\n      };\n    }\n  },\n  data: function data() {\n    return {\n      BASE_URL: 'http://196.216.12.28:9000/dhis/dhis-web-commons/security/login.action',\n      isLoading: false,\n      authCredentials: {\n        username: \"\",\n        password: \"\"\n      },\n      authResponse: {\n        isAuthenticated: false,\n        hasFailedAuthentication: false\n      }\n    };\n  }\n};",{"version":3,"sources":["LoginForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAsBA,OAAA,KAAA,MAAA,OAAA;AAEA,eAAA;AACA,QAAA,WADA;AAEA,WAAA;AACA,kBAAA,wBACA;AAAA;;AACA,WAAA,SAAA,GAAA,IAAA;AACA,WAAA,YAAA,CAAA,eAAA,GAAA,KAAA;AACA,WAAA,YAAA,CAAA,uBAAA,GAAA,KAAA;AAGA,UAAA,gBAAA,KAAA,sBAAA,EAAA;AACA,UAAA,yBAAA,eAAA,cAAA,IAAA,CAAA,QAAA,cAAA,cAAA,IAAA,CAAA,QAAA,EAAA;AAEA,YAAA,GAAA,CAAA,KAAA,QAAA,EAAA,aAAA,EACA,IADA,CACA,YAAA;AACA,cAAA,SAAA,GAAA,KAAA;AACA,cAAA,YAAA,CAAA,eAAA,GAAA,IAAA;AAEA,uBAAA,OAAA,CAAA,gBAAA,EAAA,sBAAA;AAEA,mBAAA,YAAA;AAAA,gBAAA,OAAA,CAAA,IAAA,CAAA,GAAA;AAAA,SAAA,EAAA,IAAA;AACA,OARA,EASA,KATA,CASA,YAAA;AACA,cAAA,SAAA,GAAA,KAAA;AACA,cAAA,YAAA,CAAA,uBAAA,GAAA,IAAA;AAEA,cAAA,eAAA,CAAA,QAAA,GAAA,EAAA;AACA,OAdA;AAgBA,KA3BA;AA6BA,4BAAA,kCACA;AACA,aAAA;AACA,cAAA;AACA,oBAAA,KAAA,eAAA,CAAA,QADA;AAEA,oBAAA,KAAA,eAAA,CAAA;AAFA;AADA,OAAA;AAMA;AArCA,GAFA;AAyCA,QAAA,gBAAA;AACA,WAAA;AACA,gBAAA,uEADA;AAGA,iBAAA,KAHA;AAKA,uBAAA;AACA,kBAAA,EADA;AAEA,kBAAA;AAFA,OALA;AAUA,oBAAA;AACA,yBAAA,KADA;AAEA,iCAAA;AAFA;AAVA,KAAA;AAeA;AAzDA,CAAA","sourcesContent":["<template>\n    <form v-on:submit.prevent=\"authenticate\">\n        <div class=\"mb-4\">\n            <label for=\"username\" class=\"block text-gray-darker text-sm font-bold mb-2\">Username</label>\n            <input v-model=\"authCredentials.username\" id=\"username\" class=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-darker\" type=\"text\" required/>\n        </div>\n\n        <div class=\"mb-10\">\n            <label for=\"password\" class=\"block text-gray-darker text-sm font-bold mb-2\">Password</label>\n            <input v-model=\"authCredentials.password\" id=\"password\" class=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-darker\" type=\"password\" required/>\n        </div>\n\n        <div class=\"mb-4\">\n            <button type=\"submit\" class=\"bg-teal-darker px-3 py-2 text-white rounded flex mx-auto\">Login <font-awesome-icon icon=\"check\" class=\"ml-1\"/></button>\n            <p v-if=\"isLoading\" class=\"my-4 text-center\">Authenticating with DHIS ...</p>\n            <p v-if=\"authResponse.isAuthenticated\" class=\"text-green my-4 text-center\"><span class=\"font-bold\">Login Successful!</span><br>Redirecting to Home...</p>\n            <p v-if=\"authResponse.hasFailedAuthentication\" class=\"text-red my-4 text-center\"><span class=\"font-bold\">Authentication Failed!</span><br>Check Auth Credentials</p>\n        </div>\n    </form>\n</template>\n\n<script>\n    import  axios from 'axios'\n\n    export default {\n        name: 'LoginForm',\n        methods: {\n            authenticate : function ()\n            {\n                this.isLoading = true;\n                this.authResponse.isAuthenticated = false;\n                this.authResponse.hasFailedAuthentication = false;\n\n\n                let requestConfig = this.prepareAuthRequestData();\n                var authCredentialsEncoded = btoa(`${requestConfig.auth.username}:${requestConfig.auth.password}`);\n\n                axios.get(this.BASE_URL, requestConfig)\n                    .then(()=>{\n                        this.isLoading = false;\n                        this.authResponse.isAuthenticated = true;\n\n                        sessionStorage.setItem('basicAuthToken', authCredentialsEncoded);\n\n                        setTimeout(()=>{this.$router.push('/')},2000);\n                    })\n                    .catch(()=>{\n                        this.isLoading = false;\n                        this.authResponse.hasFailedAuthentication = true;\n\n                        this.authCredentials.password = \"\";\n                    })\n\n            },\n\n            prepareAuthRequestData : function()\n            {\n                return {\n                    auth : {\n                        username: this.authCredentials.username,\n                        password: this.authCredentials.password\n                    },\n                }\n            }\n        },\n        data: () => {\n            return {\n                BASE_URL : 'http://196.216.12.28:9000/dhis/dhis-web-commons/security/login.action',\n\n                isLoading : false,\n\n                authCredentials: {\n                    username: \"\",\n                    password: \"\"\n                },\n\n                authResponse : {\n                    isAuthenticated: false,\n                    hasFailedAuthentication : false\n                }\n            }\n        }\n    }\n</script>\n"],"sourceRoot":"src/components"}]}